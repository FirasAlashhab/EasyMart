import{a as V,b as X,c as G}from"./chunk-4BXBNGET.js";import{a as Ce,b as Pe,c as we}from"./chunk-S3YCQRDJ.js";import{a as H}from"./chunk-5YIGJS2A.js";import{a as pe,b as me,d as ue,e as ge,g as he,i as fe,j as _e,k as be,p as ye,q,r as U,s as ve,v as Se,x as xe}from"./chunk-EE3LR2SH.js";import{h as R,j as ce,k as de,m as J}from"./chunk-2ZBRESMT.js";import{$a as Y,Da as E,Db as T,Eb as re,Fb as O,Ga as c,Gb as W,Ha as b,Hb as ae,I as ee,Q as te,X as B,Ya as _,_a as d,ab as n,bb as r,cb as v,db as ie,eb as ne,fa as C,ga as D,gb as x,ib as h,ic as se,jb as y,jc as z,kc as P,o as Z,oa as u,pa as g,pb as F,qb as A,qc as Q,rb as j,rc as le,s as $,sb as L,tb as l,ub as w,vb as S,wb as oe,xb as k,yb as I,zb as M}from"./chunk-GFFIWVVQ.js";var Ie=t=>["/shop/",t],De=t=>["/shop/admin/product-edit/",t];function Fe(t,o){if(t&1&&(n(0,"a",13),l(1,"View"),r()),t&2){let a=y();d("routerLink",T(1,Ie,a.product.slug))}}function Ae(t,o){if(t&1&&(n(0,"a",13),l(1,"Edit"),r()),t&2){let a=y();d("routerLink",T(1,De,a.product.slug))}}function je(t,o){t&1&&(n(0,"span"),l(1,"In Stock"),r())}var Me=(()=>{let o=class o{constructor(i,s){this.basket=i,this.authService=s,this.isAdmin=!1}ngOnInit(){this.user$=this.authService.currentUser$,this.subscription=this.user$.subscribe(i=>{this.isAdmin=i?i.roles.includes("Writer"):!1})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}addItemToBasket(){this.basket.addItemToBasket(this.product)}};o.\u0275fac=function(s){return new(s||o)(b(H),b(xe))},o.\u0275cmp=C({type:o,selectors:[["app-product-item"]],inputs:{product:"product"},decls:19,vars:12,consts:[["data-bs-theme","dark",1,"card","h-100","shadow-sm"],[1,"image-container"],[1,"product-image",3,"src","alt"],[1,"overlay"],[1,"btn-group"],[1,"align-items-center","justify-content-center","flex-column"],["type","button",1,"btnn","btn","btn-secondary","purchase-btn",3,"click"],["type","button","class","btnn btn btn-secondary view-btn",3,"routerLink",4,"ngIf"],[1,"card-body","d-flex","flex-column"],[1,"name-link",2,"text-decoration","none","min-height","50px",3,"routerLink"],[1,"text-uppercase"],[1,"d-flex","justify-content-between","align-items-center"],[4,"ngIf"],["type","button",1,"btnn","btn","btn-secondary","view-btn",3,"routerLink"]],template:function(s,e){s&1&&(n(0,"div",0)(1,"div",1),v(2,"img",2),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),h("click",function(){return e.addItemToBasket()}),l(7," Purchase "),r(),_(8,Fe,2,3,"a",7)(9,Ae,2,3,"a",7),r()()()(),n(10,"div",8)(11,"a",9)(12,"h6",10),l(13),r()(),n(14,"div",11),_(15,je,2,0,"span",12),n(16,"span"),l(17),O(18,"currency"),r()()()()),s&2&&(c(2),d("src",e.product.pictureUrl,E)("alt",e.product.name),c(6),d("ngIf",!e.isAdmin),c(),d("ngIf",e.isAdmin),c(2),d("routerLink",T(10,Ie,e.product.slug)),c(2),S(" ",e.product.name," "),c(2),d("ngIf",e.product.inStock),c(2),w(W(18,8,e.product.price)))},dependencies:[P,de,Q],styles:[".image-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;padding:20px}.product-image[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.overlay[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .3s ease}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.btn-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}.btn[_ngcontent-%COMP%]{padding:10px 50px}.btnn[_ngcontent-%COMP%]{padding:10px 15px}.purchase-btn[_ngcontent-%COMP%], .view-btn[_ngcontent-%COMP%]{opacity:0}@keyframes _ngcontent-%COMP%_fadeInFromLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInFromRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.image-container[_ngcontent-%COMP%]:hover   .purchase-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInFromLeft .5s forwards}.image-container[_ngcontent-%COMP%]:hover   .view-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInFromRight .5s forwards}.name-link[_ngcontent-%COMP%]{color:#fff;opacity:.75;transition:all .25s ease}.name-link[_ngcontent-%COMP%]:hover{opacity:1}"]});let t=o;return t})();var Re=["search"],qe=t=>({"sticky-container":t}),Ue=(t,o,a)=>({itemsPerPage:t,currentPage:o,totalItems:a});function He(t,o){t&1&&v(0,"div",30)}function Xe(t,o){t&1&&(n(0,"div",31)(1,"span",32),l(2,"Loading..."),r()())}function Ge(t,o){if(t&1&&(n(0,"option",33),l(1),r()),t&2){let a=o.$implicit;d("value",a),c(),S(" ",a.name," ")}}function Ye(t,o){if(t&1){let a=x();n(0,"li",34),h("click",function(){let s=u(a).$implicit,e=y();return g(e.onBrandSelected(s.name))}),l(1),r()}if(t&2){let a=o.$implicit,i=y();Y("active",a.name==i.brandNameSelected),d("value",a.id),c(),S(" ",a.name," ")}}function Je(t,o){if(t&1){let a=x();n(0,"li",34),h("click",function(){let s=u(a).$implicit,e=y();return g(e.onTypeSelected(s.name))}),l(1),r()}if(t&2){let a=o.$implicit,i=y();Y("active",a.name==i.typeNameSelected),d("value",a.id),c(),S(" ",a.name," ")}}function Ke(t,o){if(t&1){let a=x();n(0,"div",35)(1,"pagination-controls",36),h("pageChange",function(s){u(a);let e=y();return g(e.onPageChanged(s))}),r()()}}function Ze(t,o){if(t&1&&(n(0,"h5",37),l(1," Showing "),n(2,"strong"),l(3),r(),l(4," of "),n(5,"strong"),l(6),r()()),t&2){let a=y();c(3),oe("",(a.pageNumber-1)*a.pageSize+1," - ",a.pageNumber*a.pageSize<a.totalCount?a.pageNumber*a.pageSize:a.totalCount,""),c(3),S("",a.totalCount," Results")}}function $e(t,o){t&1&&(n(0,"h5",10),l(1," There are "),n(2,"strong"),l(3," 0"),r(),l(4," results for this filter "),r())}function et(t,o){if(t&1&&(n(0,"div",38),v(1,"app-product-item",39),r()),t&2){let a=o.$implicit;c(),d("product",a)}}function tt(t,o){t&1&&(n(0,"h3",40),l(1," No products found. "),r())}var Te=(()=>{let o=class o{constructor(i,s,e){this.productService=i,this.brandService=s,this.typeService=e,this.products=[],this.productBrands=[],this.productTypes=[],this.brandNameSelected="",this.typeNameSelected="",this.sortSelected="name",this.sortOrderSelected="asc",this.pageNumber=1,this.pageSize=9,this.loading=!1,this.searchQuery="",this.sortOptions=[{name:"Alphabetical",value:"name",order:"asc"},{name:"Price: Low to High",value:"price",order:"asc"},{name:"Price: High to Low",value:"price",order:"desc"}]}ngOnInit(){this.getAllProducts(),this.getAllProductBrands(),this.getAllProductTypes()}getAllProducts(){this.loading=!0,this.productService.getProducts(this.brandNameSelected,this.typeNameSelected,this.sortSelected,this.sortOrderSelected,this.pageSize,this.pageNumber,this.searchQuery).pipe(ee(1e3)).subscribe({next:i=>{i&&(this.products=i.data,this.pageNumber=i.pageNumber,this.pageSize=i.pageSize,this.totalCount=i.count,this.productViewLength=this.products.length),this.loading=!1},error:()=>{this.loading=!1}})}getAllProductBrands(){this.brandService.getProductBrands().subscribe({next:i=>{this.productBrands=i}})}getAllProductTypes(){this.typeService.getProductTypes().subscribe({next:i=>{this.productTypes=i}})}onBrandSelected(i){this.pageNumber=1,this.brandNameSelected=i,this.getAllProducts()}onTypeSelected(i){this.pageNumber=1,this.typeNameSelected=i,this.getAllProducts()}resetBrandFilter(){this.brandNameSelected="",this.getAllProducts()}resetTypeFilter(){this.typeNameSelected="",this.getAllProducts()}onSortSelected(i){let e=i.target.selectedIndex,p=this.sortOptions[e];p&&(this.pageNumber=1,this.sortSelected=p.value,this.sortOrderSelected=p.order,this.getAllProducts())}onPageChanged(i){this.pageNumber=i,this.getAllProducts()}onSearch(){this.pageNumber=1,this.searchQuery=this.searchTerm.nativeElement.value,this.getAllProducts()}clearSearchInput(i){this.searchQuery="",this.searchTerm.nativeElement.value="",this.getAllProducts(),i.focus()}reset(){this.searchTerm.nativeElement.value="",this.brandNameSelected="",this.typeNameSelected="",this.sortSelected="name",this.sortOrderSelected="asc",this.searchQuery="",this.pageNumber=1,this.getAllProducts()}};o.\u0275fac=function(s){return new(s||o)(b(V),b(X),b(G))},o.\u0275cmp=C({type:o,selectors:[["app-shop"]],viewQuery:function(s,e){if(s&1&&F(Re,5),s&2){let p;A(p=j())&&(e.searchTerm=p.first)}},decls:41,vars:20,consts:[["search",""],[1,"container"],["class","overlay",4,"ngIf"],["role","status","class","spinner-border text-light loading",4,"ngIf"],[1,"row"],[1,"col-3","mt-4"],[1,"ms-3","mt-1","mb-3","text-light"],["data-bs-theme","dark",1,"select"],[1,"form-select","mb-3","text-light",2,"background-color","rgb(50, 50, 50)","border","1px solid rgb(30, 30, 30)","outline","none","box-shadow","none",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"ms-3","text-light"],[1,"list-group","my-3"],[1,"list-group-item","text-light","mb-2",2,"border","1px solid rgb(30, 30, 30)","background-color","rgb(50, 50, 50)","cursor","pointer","font-weight","700",3,"click"],["class","list-group-item text-light","style",`
            border: 1px solid rgb(30, 30, 30);
            background-color: rgb(50, 50, 50);
            cursor: pointer;
          `,3,"active","value","click",4,"ngFor","ngForOf"],[1,"ms-3","text-light","mt-4"],[1,"col-9",2,"position","relative"],["class","pagination text-light d-flex justify-content-center","style",`
          position: absolute;
          left: 50%;
          transform: translateX(-59%);
          bottom: -2%;
        `,4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],["class","ms-31 mt-3 text-light",4,"ngIf"],["class","ms-3 text-light",4,"ngIf"],[1,"d-flex","align-items-center","form-inline","mt-2"],[1,"input-group"],["data-bs-theme","dark","placeholder","Search","type","text",1,"form-control",2,"width","300px","outline","none","box-shadow","none","border","none","position","relative","border-radius","5px",3,"keyup.enter"],["data-bs-theme","dark",1,"input-group-append"],["aria-label","Close","type","button",1,"btn","btn-close",2,"position","absolute","right","2%","transform","translateY(25%)","z-index","98","outline","none","box-shadow","none",3,"click"],["type","button",1,"btn","btn-dark","my-2","mx-2",3,"click"],["type","button",1,"btn","btn-dark","my-1",3,"click"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3","mb-5",3,"ngClass"],["class","col",4,"ngFor","ngForOf"],["class","d-flex justify-content-center align-items-center h-25 text-light",4,"ngIf"],[1,"overlay"],["role","status",1,"spinner-border","text-light","loading"],[1,"sr-only"],[3,"value"],[1,"list-group-item","text-light",2,"border","1px solid rgb(30, 30, 30)","background-color","rgb(50, 50, 50)","cursor","pointer",3,"click","value"],[1,"pagination","text-light","d-flex","justify-content-center",2,"position","absolute","left","50%","transform","translateX(-59%)","bottom","-2%"],["previousLabel","\u2039","nextLabel","\u203A",3,"pageChange"],[1,"ms-31","mt-3","text-light"],[1,"col"],[3,"product"],[1,"d-flex","justify-content-center","align-items-center","h-25","text-light"]],template:function(s,e){if(s&1){let p=x();n(0,"div",1),_(1,He,1,0,"div",2)(2,Xe,3,0,"div",3),n(3,"div",4)(4,"section",5)(5,"h5",6),l(6,"Sort By"),r(),n(7,"div",7)(8,"select",8),h("change",function(m){return u(p),g(e.onSortSelected(m))}),_(9,Ge,2,2,"option",9),r()(),n(10,"h5",10),l(11,"Brands"),r(),n(12,"ul",11)(13,"li",12),h("click",function(){return u(p),g(e.resetBrandFilter())}),l(14," Reset Brand Filter "),r(),_(15,Ye,2,4,"li",13),r(),n(16,"h5",14),l(17,"Types"),r(),n(18,"ul",11)(19,"li",12),h("click",function(){return u(p),g(e.resetTypeFilter())}),l(20," Reset Type Filter "),r(),_(21,Je,2,4,"li",13),r()(),n(22,"section",15),_(23,Ke,2,0,"div",16),n(24,"div",17),_(25,Ze,7,3,"h5",18)(26,$e,5,0,"h5",19),n(27,"div",20)(28,"div",21)(29,"input",22,0),h("keyup.enter",function(){return u(p),g(e.onSearch())}),r(),n(31,"div",23)(32,"button",24),h("click",function(){u(p);let m=L(30);return g(e.clearSearchInput(m))}),r()()(),n(33,"button",25),h("click",function(){return u(p),g(e.onSearch())}),l(34," Search "),r(),n(35,"button",26),h("click",function(){return u(p),g(e.reset())}),l(36," Reset "),r()()(),n(37,"div",27),_(38,et,2,1,"div",28),O(39,"paginate"),r(),_(40,tt,2,0,"h3",29),r()()()}s&2&&(c(),d("ngIf",e.loading),c(),d("ngIf",e.loading),c(7),d("ngForOf",e.sortOptions),c(6),d("ngForOf",e.productBrands),c(6),d("ngForOf",e.productTypes),c(2),d("ngIf",e.products.length!==0),c(2),d("ngIf",e.products.length!==0),c(),d("ngIf",e.products.length===0),c(11),d("ngClass",T(14,qe,e.products.length<4)),c(),d("ngForOf",ae(39,11,e.products,re(16,Ue,e.pageSize,e.pageNumber,e.totalCount))),c(2),d("ngIf",e.products.length===0))},dependencies:[se,z,P,Pe,q,U,Me,Ce],styles:[".active[_ngcontent-%COMP%]{background-color:#1d1d1d!important}.pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#323232}.pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover{background-color:#323232}.pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous.disabled:before, .pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous a:before, .pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next.disabled:after, .pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next a:after{display:none}.sticky-container[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:8%;z-index:1000}.overlay[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:999999999999999999999999999999999999999;background-color:#0000004d}.loading[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;top:50%;left:50%;z-index:9999999999999999999999999999999999999999}"]});let t=o;return t})();var it=["deleteConfirmationModal"];function nt(t,o){if(t&1&&(ie(0),n(1,"div"),v(2,"img",31),r(),ne()),t&2){let a=y();c(2),d("src",a.productData.pictureUrl,E)}}function ot(t,o){if(t&1&&(n(0,"option",32),l(1),r()),t&2){let a=o.$implicit;d("value",a.id),c(),S(" ",a.name," ")}}function rt(t,o){if(t&1&&(n(0,"option",32),l(1),r()),t&2){let a=o.$implicit;d("value",a.id),c(),S(" ",a.name," ")}}var Oe=(()=>{let o=class o{constructor(i,s,e,p,f){this.route=i,this.productService=s,this.brands=e,this.types=p,this.router=f,this.fileName="",this.id=null,this.slug=null,this.productData={id:"",name:"",description:"",pictureUrl:"",productBrand:"",productBrandId:"",slug:"",productType:"",productTypeId:"",price:null,inStock:!0},this.productBrands=[],this.productTypes=[]}ngOnInit(){this.getAllProductBrands(),this.getAllProductTypes(),this.idSubscription=this.route.paramMap.subscribe({next:i=>{this.slug=i.get("id")}}),this.getProductBySlug()}ngAfterViewInit(){this.deleteModalInstance=new bootstrap.Modal(this.deleteConfirmationModal.nativeElement)}getAllProductBrands(){this.brands.getProductBrands().subscribe({next:i=>{this.productBrands=i}})}getAllProductTypes(){this.types.getProductTypes().subscribe({next:i=>{this.productTypes=i}})}getProductBySlug(){this.slug&&this.productService.getProductBySlug(this.slug).subscribe({next:i=>{this.productData=i,this.id=i.id}})}onFileUploadChange(i){let s=i.currentTarget;if(s.files&&s.files.length>0){let e=s.files[0];if(e){this.file=e;let f=e.name.split(".").slice(0,-1).join(".");this.fileName=f}}}onSubmit(){this.file&&this.fileName!==""?this.productService.uploadImage(this.file,this.fileName).pipe($(i=>i.url),te(i=>(i&&(this.productData.pictureUrl=i),this.id!==null?this.productService.updateProduct(this.id,this.productData):Z(null)))).subscribe({next:i=>{this.router.navigate(["/shop"])}}):this.id!==null&&this.productService.updateProduct(this.id,this.productData).subscribe({next:i=>{this.router.navigate(["/shop"])}})}openDeleteModal(){this.deleteModalInstance.show()}deleteProduct(){this.id&&this.productService.deleteProduct(this.id).subscribe({next:i=>{this.router.navigate(["/shop"]),this.deleteModalInstance.hide()}})}ngOnDestroy(){this.idSubscription&&this.idSubscription.unsubscribe()}};o.\u0275fac=function(s){return new(s||o)(b(R),b(V),b(X),b(G),b(ce))},o.\u0275cmp=C({type:o,selectors:[["app-edit-product"]],viewQuery:function(s,e){if(s&1&&F(it,5),s&2){let p;A(p=j())&&(e.deleteConfirmationModal=p.first)}},decls:50,vars:10,consts:[["form","ngForm"],["deleteConfirmationModal",""],[1,"container"],["data-bs-theme","dark",1,"mb-5",3,"ngSubmit"],[1,"mb-3"],[1,"form-label","text-light","ms-2"],["type","text","name","name","id","name","required","",1,"form-control",2,"outline","none","box-shadow","none",3,"ngModelChange","ngModel"],[1,"form-label","text-light","mt-4","ms-2"],["type","textarea","name","description","id","description","required","",1,"form-control",2,"outline","none","box-shadow","none",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","file","name","pictureUrl",1,"form-control","text-light",3,"change"],["type","number","name","price","id","price","required","",1,"form-control",2,"outline","none","box-shadow","none",3,"ngModelChange","ngModel"],["name","productBrand","id","productBrand","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","productType","id","productType","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","form-check","mt-3"],["type","checkbox","id","inStock","name","inStock",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"form-check-label","text-light"],[1,"d-flex","align-items-center","justify-content-end"],["type","submit",1,"btn","btn-dark",3,"disabled"],["type","button",1,"btn","btn-danger","mx-2",3,"click"],["data-bs-theme","dark","id","deleteConfirmationModal","tabindex","-1","aria-labelledby","deleteConfirmationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen-sm-down"],[1,"modal-content"],[1,"modal-header"],["id","deleteConfirmationModalLabel",1,"modal-title","text-light"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-light"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"my-3",2,"height","200px",3,"src"],[3,"value"]],template:function(s,e){if(s&1){let p=x();n(0,"div",2)(1,"form",3,0),h("ngSubmit",function(){return u(p),g(e.onSubmit())}),n(3,"div",4)(4,"label",5),l(5,"Name"),r(),n(6,"input",6),M("ngModelChange",function(m){return u(p),I(e.productData.name,m)||(e.productData.name=m),g(m)}),r(),n(7,"label",7),l(8,"Description"),r(),n(9,"textarea",8),M("ngModelChange",function(m){return u(p),I(e.productData.description,m)||(e.productData.description=m),g(m)}),l(10,"      "),r(),_(11,nt,3,1,"ng-container",9),n(12,"label",7),l(13,"Product Image"),r(),n(14,"input",10),h("change",function(m){return u(p),g(e.onFileUploadChange(m))}),r(),n(15,"label",7),l(16,"Price"),r(),n(17,"input",11),M("ngModelChange",function(m){return u(p),I(e.productData.price,m)||(e.productData.price=m),g(m)}),r(),n(18,"label",7),l(19,"Product Brand"),r(),n(20,"select",12),M("ngModelChange",function(m){return u(p),I(e.productData.productBrandId,m)||(e.productData.productBrandId=m),g(m)}),_(21,ot,2,2,"option",13),r(),n(22,"label",7),l(23,"Product Types"),r(),n(24,"select",14),M("ngModelChange",function(m){return u(p),I(e.productData.productTypeId,m)||(e.productData.productTypeId=m),g(m)}),_(25,rt,2,2,"option",13),r(),n(26,"div",15)(27,"input",16),M("ngModelChange",function(m){return u(p),I(e.productData.inStock,m)||(e.productData.inStock=m),g(m)}),r(),n(28,"label",17),l(29,"In Stock"),r()()(),n(30,"div",18)(31,"button",19),l(32," Update "),r(),n(33,"button",20),h("click",function(){return u(p),g(e.openDeleteModal())}),l(34," Delete "),r()()(),n(35,"div",21,1)(37,"div",22)(38,"div",23)(39,"div",24)(40,"h5",25),l(41," Confirm Delete "),r(),v(42,"button",26),r(),n(43,"div",27),l(44," Are you sure you want to delete this product? "),r(),n(45,"div",28)(46,"button",29),l(47," Cancel "),r(),n(48,"button",30),h("click",function(){return u(p),g(e.deleteProduct())}),l(49," Delete "),r()()()()()()}if(s&2){let p=L(2);c(6),k("ngModel",e.productData.name),c(3),k("ngModel",e.productData.description),c(2),d("ngIf",e.productData.pictureUrl!=""),c(6),k("ngModel",e.productData.price),c(3),k("ngModel",e.productData.productBrandId),c(),d("ngForOf",e.productBrands),c(3),k("ngModel",e.productData.productTypeId),c(),d("ngForOf",e.productTypes),c(2),k("ngModel",e.productData.inStock),c(4),d("disabled",!p.valid)}},dependencies:[z,P,_e,q,U,me,be,pe,ye,ue,ge,ve,fe,he]});let t=o;return t})();function at(t,o){t&1&&(n(0,"p"),l(1,"InStock"),r())}function st(t,o){if(t&1){let a=x();n(0,"div",1)(1,"div",2),v(2,"img",3),r(),n(3,"div",4)(4,"h3"),l(5),r(),n(6,"h5"),l(7),r(),n(8,"p"),l(9),O(10,"currency"),r(),_(11,at,2,0,"p",5),n(12,"div",6)(13,"i",7),h("click",function(){u(a);let s=y();return g(s.decrementItemQuantity())}),r(),n(14,"span",8),l(15),r(),n(16,"i",9),h("click",function(){u(a);let s=y();return g(s.incrementItemQuantity())}),r(),n(17,"button",10),h("click",function(){u(a);let s=y();return g(s.addItemToBasket())}),l(18," Add to Cart "),r()()()()}if(t&2){let a=y();c(2),d("src",a.product.pictureUrl,E)("alt",a.product.name),c(3),w(a.product.name),c(2),w(a.product.description),c(2),w(W(10,7,a.product.price)),c(2),d("ngIf",a.product.inStock),c(4),w(a.quantity)}}var Ve=(()=>{let o=class o{constructor(i,s,e){this.productService=i,this.route=s,this.basket=e,this.id=null,this.quantity=1}ngOnInit(){this.idSubscription=this.route.paramMap.subscribe({next:i=>{this.id=i.get("id")}}),this.getProduct()}addItemToBasket(){this.basket.addItemToBasket(this.product,this.quantity)}incrementItemQuantity(){this.quantity++}decrementItemQuantity(){this.quantity>1&&this.quantity--}getProduct(){this.id&&this.productService.getProductById(this.id).subscribe({next:i=>{this.product=i}})}ngOnDestroy(){this.idSubscription&&this.idSubscription.unsubscribe()}};o.\u0275fac=function(s){return new(s||o)(b(V),b(R),b(H))},o.\u0275cmp=C({type:o,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","row d-flex align-items-center h-100","style","overflow-x: hidden; min-height: 80vh",4,"ngIf"],[1,"row","d-flex","align-items-center","h-100",2,"overflow-x","hidden","min-height","80vh"],[1,"col-6","fade-in-left",2,"min-height","600px","display","flex","align-items","center","padding","0 80px"],[1,"img-fluid","w-100",3,"src","alt"],[1,"col-6","fade-in-right"],[4,"ngIf"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-light","me-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-light","mx-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-dark","btn-lg",3,"click"]],template:function(s,e){s&1&&_(0,st,19,9,"div",0),s&2&&d("ngIf",e.product)},dependencies:[P,Q],styles:["@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.fade-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInLeft 1s ease-in-out}.fade-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInRight 1s ease-in-out}"]});let t=o;return t})();var lt=[{path:"",component:Te},{path:":id",component:Ve},{path:"admin/product-edit/:id",component:Oe}],Ne=(()=>{let o=class o{};o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=D({type:o}),o.\u0275inj=B({imports:[J.forChild(lt),J]});let t=o;return t})();var Nt=(()=>{let o=class o{};o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=D({type:o}),o.\u0275inj=B({imports:[le,Ne,we,Se]});let t=o;return t})();export{Nt as ShopModule};
