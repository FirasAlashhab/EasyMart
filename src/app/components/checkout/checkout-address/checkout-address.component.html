<div
  class="mt-4"
  *ngIf="checkoutForm"
  [formGroup]="checkoutForm"
  data-bs-theme="dark"
>
  <div class="d-flex justify-content-between align-items-center">
    <h4>Shipping address</h4>
    <button
      class="btn btn-outline-success mb-3"
      (click)="saveUserAddress()"
      [disabled]="
        !checkoutForm.get('addressForm')?.valid ||
        !checkoutForm.get('addressForm')?.dirty
      "
    >
      Save as default address
    </button>
  </div>
  <div class="row" formGroupName="addressForm">
    <div class="form-group col-6">
      <label>First Name</label>
      <input
        type="text"
        formControlName="firstName"
        placeholder="First Name"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.firstName"
      />
      <ng-container
        *ngIf="isFieldInvalid('firstName') && isFieldTouched('firstName')"
      >
        <small class="text-danger">First Name is required</small>
      </ng-container>
    </div>
    <div class="form-group col-6">
      <label>Last Name</label>
      <input
        type="text"
        formControlName="lastName"
        placeholder="Last Name"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.lastName"
      />
      <ng-container
        *ngIf="isFieldInvalid('lastName') && isFieldTouched('lastName')"
      >
        <small class="text-danger">Last Name is required</small>
      </ng-container>
    </div>
    <div class="mt-3 form-group col-6">
      <label>Street</label>
      <input
        type="text"
        formControlName="street"
        placeholder="Street"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.street"
      />
      <ng-container
        *ngIf="isFieldInvalid('street') && isFieldTouched('street')"
      >
        <small class="text-danger">Street is required</small>
      </ng-container>
    </div>
    <div class="mt-3 form-group col-6">
      <label>City</label>
      <input
        type="text"
        formControlName="city"
        placeholder="City"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.city"
      />
      <ng-container *ngIf="isFieldInvalid('city') && isFieldTouched('city')">
        <small class="text-danger">City is required</small>
      </ng-container>
    </div>
    <div class="mt-3 form-group col-6">
      <label>State</label>
      <input
        type="text"
        formControlName="state"
        placeholder="State"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.state"
      />
      <ng-container *ngIf="isFieldInvalid('state') && isFieldTouched('state')">
        <small class="text-danger">State is required</small>
      </ng-container>
    </div>
    <div class="mt-3 form-group col-6">
      <label>Zip Code</label>
      <input
        type="text"
        formControlName="zipCode"
        placeholder="Zip Code"
        class="form-control"
        [value]="checkoutForm.get('addressForm')?.value?.zipCode"
      />
      <ng-container
        *ngIf="isFieldInvalid('zipCode') && isFieldTouched('zipCode')"
      >
        <small class="text-danger">Zip Code is required</small>
      </ng-container>
    </div>
  </div>

  <div class="mt-4 d-flex justify-content-between flex-row mb-5">
    <button class="btn btn-outline-secondary" routerLink="/basket">
      <i class="fa fa-angle-left"></i> Back to basket
    </button>
    <button
      [disabled]="checkoutForm.get('addressForm')?.invalid"
      class="btn btn-dark"
      cdkStepperNext
    >
      Go to Delivery <i class="fa fa-angle-right"></i>
    </button>
  </div>
</div>
