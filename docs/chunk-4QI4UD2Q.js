import{b as S,c as s,d as y,e as w,f as G,h as z,j as k,m as E,o as F,s as I,t as B,u as D,w as U,x as q}from"./chunk-EE3LR2SH.js";import{h as V,j as M,k as O,m as R,o as N}from"./chunk-2ZBRESMT.js";import{Db as _,Ga as a,Ha as c,I as b,X as v,Ya as g,_a as d,ab as e,bb as t,cb as l,fa as h,ga as C,ib as f,kc as P,lc as T,rc as A,tb as n,ub as x}from"./chunk-GFFIWVVQ.js";function Y(o,i){o&1&&l(0,"div",20)}function ee(o,i){o&1&&(e(0,"div",21)(1,"span",22),n(2,"Loading..."),t()())}function te(o,i){o&1&&(e(0,"div",23),n(1," Valid email is required "),t())}function ne(o,i){o&1&&(e(0,"div",24),n(1," Password is required (min 6 characters) "),t())}function ie(o,i){o&1&&(e(0,"p",25),n(1," Email or Password is invalid "),t())}var Q=(()=>{let i=class i{constructor(m,p,r,u){this.authService=m,this.Router=p,this.cookie=r,this.route=u,this.returnUrl="/shop",this.loading=!1,this.error=!1,this.adminEmail="Email: admin@easymart.com",this.adminPass="Password: Admin@123",this.userEmail="Email: firas@easymart.com",this.userPassword="Password: Firas@123"}ngOnInit(){this.route.queryParams.subscribe({next:m=>{this.returnUrl=m.returnUrl||"/shop"}}),this.createLoginForm()}createLoginForm(){this.loginForm=new G({email:new z("",s.required),password:new z("",s.required)})}onSubmit(){this.error=!1,this.loading=!0,this.authService.login(this.loginForm.value).pipe(b(1e3)).subscribe({next:m=>{this.cookie.set("Authorization",`Bearer ${m.token}`,void 0,"/",void 0,!0,"Strict"),this.Router.navigateByUrl(this.returnUrl),this.loading=!1},error:()=>{this.loading=!1,this.error=!0,this.loginForm.reset()}})}};i.\u0275fac=function(p){return new(p||i)(c(q),c(M),c(N),c(V))},i.\u0275cmp=h({type:i,selectors:[["app-login"]],decls:54,vars:11,consts:[[1,"wrapper"],["data-bs-theme","dark",1,"container","main"],["class","overlay",4,"ngIf"],["role","status","class","spinner-border text-light loading",4,"ngIf"],[1,"row"],[1,"col-md-6","side-image"],[1,"logo"],[1,"text"],[1,"col-md-6","right"],[1,"input-box"],[3,"ngSubmit","formGroup"],[1,"input-field"],["type","email","name","email","required","","autocomplete","on","formControlName","email",1,"input"],["class","error","style","color: red; margin-bottom: 10px; margin-top: -18px",4,"ngIf"],["type","password","name","password","required","","formControlName","password",1,"input"],["class","error","style","color: red; margin-bottom: 13px; margin-top: -18px",4,"ngIf"],["style","color: red; text-align: center",4,"ngIf"],["type","submit","name","submit","value","Sign In",1,"submit",3,"disabled"],[1,"singup"],["routerLink","/auth/register"],[1,"overlay"],["role","status",1,"spinner-border","text-light","loading"],[1,"sr-only"],[1,"error",2,"color","red","margin-bottom","10px","margin-top","-18px"],[1,"error",2,"color","red","margin-bottom","13px","margin-top","-18px"],[2,"color","red","text-align","center"]],template:function(p,r){p&1&&(e(0,"div",0)(1,"div",1),g(2,Y,1,0,"div",2)(3,ee,3,0,"div",3),e(4,"div",4)(5,"div",5),l(6,"div",6),e(7,"div",7)(8,"p"),n(9,"Welcome back to your best "),e(10,"strong"),n(11,"shopping "),t(),n(12,"place!"),t(),l(13,"br"),e(14,"h5"),n(15,"Available users:"),t(),l(16,"br")(17,"br"),e(18,"strong"),n(19,"Admin user:"),t(),e(20,"p"),n(21),t(),e(22,"p"),n(23),t(),l(24,"br"),e(25,"strong"),n(26,"Normal user:"),t(),e(27,"p"),n(28),t(),e(29,"p"),n(30),t()()(),e(31,"div",8)(32,"div",9)(33,"header"),n(34,"Login Now!"),t(),e(35,"form",10),f("ngSubmit",function(){return r.onSubmit()}),e(36,"div",11),l(37,"input",12),e(38,"label"),n(39,"Email"),t(),g(40,te,2,0,"div",13),t(),e(41,"div",11),l(42,"input",14),e(43,"label"),n(44,"Password"),t(),g(45,ne,2,0,"div",15),t(),e(46,"div",11),g(47,ie,2,0,"p",16),l(48,"input",17),t()(),e(49,"div",18)(50,"span"),n(51,"Don't have an account? "),e(52,"a",19),n(53,"Register here"),t()()()()()()()()),p&2&&(a(2),d("ngIf",r.loading),a(),d("ngIf",r.loading),a(18),x(r.adminEmail),a(2),x(r.adminPass),a(5),x(r.userEmail),a(2),x(r.userPassword),a(5),d("formGroup",r.loginForm),a(5),d("ngIf",r.loginForm.controls.email.invalid&&r.loginForm.controls.email.touched),a(5),d("ngIf",r.loginForm.controls.password.invalid&&r.loginForm.controls.password.touched),a(2),d("ngIf",r.error),a(),d("disabled",r.loginForm.invalid))},dependencies:[P,O,k,S,y,w,I,E,F],styles:['.wrapper[_ngcontent-%COMP%]{margin-top:-40px!important;background:#191919;padding:0 20px}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:85vh}.row[_ngcontent-%COMP%]{width:900px;height:550px;border-radius:10px;background:#212529;box-shadow:5px 5px 10px 1px #0003}.side-image[_ngcontent-%COMP%]{background-image:url("./media/360_F_399721147_cOB6IgtAakQ7IEQhHaLoJ9Bv2oCR4J5X-GCEZL2RS.jpg")!important;background-position:center;background-size:cover;background-repeat:no-repeat;position:relative;border-radius:10px 0 0 10px}.logo[_ngcontent-%COMP%]{background-image:url("./media/logo-icon-44SFNRPF.png");background-size:contain;background-repeat:no-repeat;width:35px;height:100px;margin-top:25px;margin-left:8px}.text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;transform:translate(-50%,-50%);text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{column-rule:#fff;font-size:18px}.right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.input-box[_ngcontent-%COMP%]{width:330px;box-sizing:border-box}.input-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-weight:700;text-align:center;margin-bottom:45px}.input-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:0 10px}.input[_ngcontent-%COMP%]{height:45px;width:100%;background:transparent;border:none;border-bottom:1px solid rgba(0,0,0,.2);outline:none;margin-bottom:20px;color:#fff}.input-box[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;pointer-events:none;transition:.2s}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%]{top:-10px;font-size:13px}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-10px;font-size:13px;color:#757575}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus, .input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid{border-bottom:1px solid #e2e2e2}.submit[_ngcontent-%COMP%]{border:none;outline:none;height:45px;background:#ececec;border-radius:5px;transition:.2s;color:#000}.submit[_ngcontent-%COMP%]:hover{background:#191919e6;color:#fff}.submit[_ngcontent-%COMP%]:disabled{background:#d6d6d6;color:#666;cursor:not-allowed}.submit[_ngcontent-%COMP%]:disabled:hover{background:#d6d6d6;color:#666}.singup[_ngcontent-%COMP%]{text-align:center;font-size:small;margin-top:25px!important}.singup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#fff;transition:.25s}.singup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#a1a1a1}@media only screen and (max-width: 768px){.side-image[_ngcontent-%COMP%]{border-radius:10px 10px 0 0}.logo[_ngcontent-%COMP%]{width:35px;position:absolute;top:20px;left:47%}.text[_ngcontent-%COMP%]{position:absolute;top:70%;text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px}.row[_ngcontent-%COMP%]{max-width:420px;width:100%}}.overlay[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:999999999999999999999999999999999999999;background-color:#0000004d}.loading[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;top:50%;left:50%;z-index:9999999999999999999999999999999999999999}']});let o=i;return o})();var j=o=>({display:o});function oe(o,i){o&1&&l(0,"div",29)}function re(o,i){o&1&&(e(0,"div",30)(1,"span",31),n(2,"Loading..."),t()())}function ae(o,i){o&1&&(e(0,"div",32),n(1," Valid email is required "),t())}function le(o,i){o&1&&(e(0,"div",33),n(1," Password is required (min 6 characters) "),t())}var Z=(()=>{let i=class i{constructor(m,p,r,u){this.fb=m,this.authService=p,this.router=r,this.cookie=u,this.next=!1,this.loading=!1}ngOnInit(){this.registrationForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],firstName:["",s.required],lastName:["",s.required],city:["",s.required],state:["",s.required],street:["",s.required],zipCode:["",s.required]})}onNext(){this.next=!0}onBack(){this.next=!1}onSubmit(){this.loading=!0,this.authService.register(this.registrationForm.value).pipe(b(1e3)).subscribe({next:m=>{this.cookie.set("Authorization",`Bearer ${m.token}`,void 0,"/",void 0,!0,"Strict"),this.router.navigate(["shop"]),this.loading=!1},error:m=>{this.loading=!1}})}};i.\u0275fac=function(p){return new(p||i)(c(D),c(q),c(M),c(N))},i.\u0275cmp=h({type:i,selectors:[["app-register"]],decls:74,vars:17,consts:[[1,"wrapper"],["data-bs-theme","dark",1,"container","main"],["class","overlay",4,"ngIf"],["role","status","class","spinner-border text-light loading",4,"ngIf"],[1,"row"],[1,"col-md-6","side-image"],[1,"logo"],[1,"text"],[1,"col-md-6","right"],[2,"position","absolute","top","25px","left","25px","cursor","pointer",3,"click","ngStyle"],[1,"fa","fa-arrow-left","fa-2x","me-2","text-light",2,"font-size","18px"],[3,"ngSubmit","formGroup"],[1,"input-box",3,"ngStyle"],[1,"input-field"],["type","email","formControlName","email","required","","autocomplete","on",1,"input"],["class","error","style","color: red; margin-bottom: 10px; margin-top: -18px",4,"ngIf"],["type","password","formControlName","password","required","","minlength","6",1,"input"],["class","error","style","color: red; margin-bottom: 13px; margin-top: -18px",4,"ngIf"],["type","button","name","submit","value","Continue",1,"submit",3,"click","disabled"],[1,"singup"],["routerLink","/auth/login"],[1,"d-flex"],["type","text","formControlName","firstName","required","","autocomplete","on",1,"input"],["type","text","formControlName","lastName","required","","autocomplete","on",1,"input"],["type","text","formControlName","city","required","","autocomplete","on",1,"input"],["type","text","formControlName","state","required","","autocomplete","on",1,"input"],["type","text","formControlName","street","required","","autocomplete","on",1,"input"],["type","text","formControlName","zipCode","required","","autocomplete","on",1,"input"],["type","submit","name","submit","value","Sign Up",1,"submit",3,"disabled"],[1,"overlay"],["role","status",1,"spinner-border","text-light","loading"],[1,"sr-only"],[1,"error",2,"color","red","margin-bottom","10px","margin-top","-18px"],[1,"error",2,"color","red","margin-bottom","13px","margin-top","-18px"]],template:function(p,r){p&1&&(e(0,"div",0)(1,"div",1),g(2,oe,1,0,"div",2)(3,re,3,0,"div",3),e(4,"div",4)(5,"div",5),l(6,"div",6),e(7,"div",7)(8,"p"),n(9,"Welcome to your best "),e(10,"strong"),n(11,"shopping"),t(),n(12," place!"),t()()(),e(13,"div",8)(14,"a",9),f("click",function(){return r.onBack()}),l(15,"i",10),t(),e(16,"form",11),f("ngSubmit",function(){return r.onSubmit()}),e(17,"div",12)(18,"header"),n(19,"Register Now!"),t(),e(20,"div",13),l(21,"input",14),e(22,"label"),n(23,"Email"),t(),g(24,ae,2,0,"div",15),t(),e(25,"div",13),l(26,"input",16),e(27,"label"),n(28,"Password"),t(),g(29,le,2,0,"div",17),t(),e(30,"div",13)(31,"input",18),f("click",function(){return r.onNext()}),t()(),e(32,"div",19)(33,"span"),n(34,"Already have an account? "),e(35,"a",20),n(36,"Login here"),t()()()(),e(37,"div",12)(38,"header"),n(39,"Almost there!"),t(),e(40,"div",21)(41,"div",13),l(42,"input",22),e(43,"label"),n(44,"First name"),t()(),e(45,"div",13),l(46,"input",23),e(47,"label"),n(48,"Last name"),t()()(),e(49,"div",21)(50,"div",13),l(51,"input",24),e(52,"label"),n(53,"City"),t()(),e(54,"div",13),l(55,"input",25),e(56,"label"),n(57,"State"),t()()(),e(58,"div",21)(59,"div",13),l(60,"input",26),e(61,"label"),n(62,"Street"),t()(),e(63,"div",13),l(64,"input",27),e(65,"label"),n(66,"Zip Code"),t()()(),e(67,"div",13),l(68,"input",28),t(),e(69,"div",19)(70,"span"),n(71,"Already have an account? "),e(72,"a",20),n(73,"Login here"),t()()()()()()()()()),p&2&&(a(2),d("ngIf",r.loading),a(),d("ngIf",r.loading),a(11),d("ngStyle",_(11,j,r.next?"block":"none")),a(2),d("formGroup",r.registrationForm),a(),d("ngStyle",_(13,j,r.next?"none":"block")),a(7),d("ngIf",r.registrationForm.controls.email.invalid&&r.registrationForm.controls.email.touched),a(5),d("ngIf",r.registrationForm.controls.password.invalid&&r.registrationForm.controls.password.touched),a(2),d("disabled",r.registrationForm.controls.email.invalid||r.registrationForm.controls.password.invalid)("disabled",!0),a(6),d("ngStyle",_(15,j,r.next?"block":"none")),a(31),d("disabled",r.registrationForm.invalid))},dependencies:[P,T,O,k,S,y,w,I,B,E,F],styles:['.wrapper[_ngcontent-%COMP%]{margin-top:-40px!important;background:#191919;padding:0 20px}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:85vh}.row[_ngcontent-%COMP%]{width:900px;height:550px;border-radius:10px;background:#212529;box-shadow:5px 5px 10px 1px #0003}.side-image[_ngcontent-%COMP%]{background-image:url("./media/top-view-gamer-workspace_160097-309-QZKRB2AX.png")!important;background-position:center;background-size:cover;background-repeat:no-repeat;position:relative;border-radius:10px 0 0 10px}.logo[_ngcontent-%COMP%]{background-image:url("./media/logo-icon-44SFNRPF.png");background-size:contain;background-repeat:no-repeat;width:35px;height:100px;margin-top:25px;margin-left:8px}.text[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{column-rule:#fff;font-size:18px}.right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.input-box[_ngcontent-%COMP%]{width:330px;box-sizing:border-box}.input-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-weight:700;text-align:center;margin-bottom:45px}.input-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;padding:0 10px}.input[_ngcontent-%COMP%]{height:45px;width:100%;background:transparent;border:none;border-bottom:1px solid rgba(0,0,0,.2);outline:none;margin-bottom:20px;color:#fff}.input-box[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;pointer-events:none;transition:.2s}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%]{top:-10px;font-size:13px}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-10px;font-size:13px;color:#757575}.input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus, .input-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid{border-bottom:1px solid #e2e2e2}.submit[_ngcontent-%COMP%]{border:none;outline:none;height:45px;background:#ececec;border-radius:5px;transition:.2s;color:#000}.submit[_ngcontent-%COMP%]:hover{background:#191919e6;color:#fff}.submit[_ngcontent-%COMP%]:disabled{background:#d6d6d6;color:#666;cursor:not-allowed}.submit[_ngcontent-%COMP%]:disabled:hover{background:#d6d6d6;color:#666}.singup[_ngcontent-%COMP%]{text-align:center;font-size:small;margin-top:25px!important}.singup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#fff;transition:.25s}.singup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#a1a1a1}@media only screen and (max-width: 768px){.side-image[_ngcontent-%COMP%]{border-radius:10px 10px 0 0}.logo[_ngcontent-%COMP%]{width:35px;position:absolute;top:20px;left:47%}.text[_ngcontent-%COMP%]{position:absolute;top:70%;text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px}.row[_ngcontent-%COMP%]{max-width:420px;width:100%}}.overlay[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:999999999999999999999999999999999999999;background-color:#0000004d}.loading[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;top:50%;left:50%;z-index:9999999999999999999999999999999999999999}']});let o=i;return o})();var de=[{path:"login",component:Q},{path:"register",component:Z}],J=(()=>{let i=class i{};i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=C({type:i}),i.\u0275inj=v({imports:[R.forChild(de),R]});let o=i;return o})();var ye=(()=>{let i=class i{};i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=C({type:i}),i.\u0275inj=v({imports:[A,J,U]});let o=i;return o})();export{ye as AuthModule};
